<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Cadastro - MoveEcho</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-dark text-white d-flex flex-column justify-content-center align-items-center" style="min-height: 100vh;">
  <div class="card p-4 bg-secondary text-white" style="max-width: 400px; width: 100%;">
    <header class="mb-4 d-flex align-items-center">
      <a href="index.html">
        <img src="logo.f.jpg" alt="Logo MoveEcho" class="h-50 me-2" width="70px" />
      </a>
      <span class="h4 mb-0">MoveEcho</span>
    </header>
    <h2 class="text-center mb-4">Criar Conta</h2>
    <form id="formCadastro" novalidate>
      <div class="mb-3">
        <label for="nome" class="form-label">Nome completo</label>
        <input type="text" class="form-control" id="nome" placeholder="Digite seu nome" required />
        <div class="invalid-feedback">Por favor, insira seu nome completo.</div>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">E-mail</label>
        <input type="email" class="form-control" id="email" placeholder="Digite seu e-mail" required />
        <div class="invalid-feedback">Por favor, insira um e-mail válido.</div>
      </div>
      <div class="mb-3">
        <label for="senha" class="form-label">Senha</label>
        <input type="password" class="form-control" id="senha" placeholder="Crie uma senha" minlength="6" required />
        <div class="invalid-feedback">A senha deve ter pelo menos 6 caracteres.</div>
      </div>
      <button type="submit" class="btn btn-warning w-100">Cadastrar</button>
    </form>
    <div class="text-center mt-3">
      <a href="login.html" class="text-warning text-decoration-none">Já tem conta? Faça login</a><br />
      <a href="index.html" class="btn btn-outline-light btn-sm mt-2">Voltar para Home</a>
    </div>
    <div id="msg-sucesso" class="alert alert-success mt-3 d-none" role="alert">
      Cadastro realizado com sucesso!
    </div>
  </div>

  <script>
    const form = document.getElementById('formCadastro');
    const msgSucesso = document.getElementById('msg-sucesso');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      // Limpar mensagens anteriores
      msgSucesso.classList.add('d-none');

      // Validar campos com HTML5
      if (!form.checkValidity()) {
        form.classList.add('was-validated');
        return;
      }

      // Pegar valores
      const nome = document.getElementById('nome').value.trim();
      const email = document.getElementById('email').value.trim();
      const senha = document.getElementById('senha').value;

      // Validar manualmente (exemplo)
      if (nome.length === 0) {
        alert('Por favor, insira seu nome completo.');
        return;
      }
      if (senha.length < 6) {
        alert('A senha deve ter pelo menos 6 caracteres.');
        return;
      }

      // Simular cadastro (salvar no localStorage)
      const usuarios = JSON.parse(localStorage.getItem('usuarios') || '[]');

      // Verificar se email já existe
      const existe = usuarios.some(user => user.email === email);
      if (existe) {
        alert('Este e-mail já está cadastrado.');
        return;
      }

      // Adicionar novo usuário
      usuarios.push({ nome, email, senha });
      localStorage.setItem('usuarios', JSON.stringify(usuarios));

      // Mostrar mensagem de sucesso e resetar formulário
      msgSucesso.classList.remove('d-none');
      form.reset();
      form.classList.remove('was-validated');
    });
  </script>
</body>
</html>
